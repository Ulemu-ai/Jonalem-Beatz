<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JONALEM BEATZ | Professional Beat Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #7c3aed;
            --primary-dark: #5b21b6;
            --secondary: #f59e0b;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --light-text: #f8fafc;
            --gray-text: #94a3b8;
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            --glow-cyan: rgba(0, 251, 255, 0.7);
            --glow-purple: rgba(168, 85, 247, 0.8);
            --glow-blue: rgba(59, 130, 246, 0.8);
            --glow-green: rgba(52, 211, 153, 0.8);
            --glow-yellow: rgba(250, 204, 21, 0.8);
            --glow-pink: rgba(236, 72, 153, 0.8);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--light-text);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: url('https://i.imgur.com/O4cOg62.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(15, 23, 42, 0.85) 0%, 
                rgba(26, 26, 46, 0.9) 100%);
            z-index: -1;
        }

        header {
            background: linear-gradient(135deg, 
                rgba(15, 23, 42, 0.95) 0%, 
                rgba(26, 26, 46, 0.98) 100%);
            padding: 1rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(124, 58, 237, 0.2);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-image {
            height: 100px;
            width: auto;
            filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.6));
            transition: var(--transition);
        }

        .logo-image:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.8));
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .brand-name {
            font-size: 2.8rem;
            font-weight: 900;
            letter-spacing: 1.5px;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .jonaldem-text {
            color: white;
            background: linear-gradient(90deg, #ffffff, #f8fafc);
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.6),
                0 0 30px rgba(255, 255, 255, 0.4);
            animation: glow-white 2s ease-in-out infinite alternate;
        }

        .beatz-text {
            color: black;
            background: linear-gradient(90deg, #000000, #1a1a1a);
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 
                0 0 10px rgba(0, 0, 0, 0.8),
                0 0 20px rgba(0, 0, 0, 0.6),
                0 0 30px rgba(0, 0, 0, 0.4);
            animation: glow-black 2s ease-in-out infinite alternate;
        }

        @keyframes glow-white {
            from {
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.6),
                    0 0 30px rgba(255, 255, 255, 0.4);
            }
            to {
                text-shadow: 
                    0 0 15px rgba(255, 255, 255, 1),
                    0 0 25px rgba(255, 255, 255, 0.8),
                    0 0 35px rgba(255, 255, 255, 0.6),
                    0 0 45px rgba(255, 255, 255, 0.4);
            }
        }

        @keyframes glow-black {
            from {
                text-shadow: 
                    0 0 10px rgba(0, 0, 0, 0.8),
                    0 0 20px rgba(0, 0, 0, 0.6),
                    0 0 30px rgba(0, 0, 0, 0.4);
            }
            to {
                text-shadow: 
                    0 0 15px rgba(0, 0, 0, 1),
                    0 0 25px rgba(0, 0, 0, 0.8),
                    0 0 35px rgba(0, 0, 0, 0.6),
                    0 0 45px rgba(0, 0, 0, 0.4);
            }
        }

        .tagline {
            color: var(--secondary);
            font-size: 1rem;
            font-weight: 600;
            margin-top: 5px;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .search-container {
            position: relative;
            width: 300px;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-text);
            z-index: 1;
        }

        .search-bar {
            width: 100%;
            padding: 12px 12px 12px 45px;
            border-radius: var(--border-radius);
            border: 2px solid rgba(124, 58, 237, 0.3);
            background-color: rgba(30, 41, 59, 0.7);
            color: var(--light-text);
            font-size: 1rem;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .search-bar:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
            background-color: rgba(30, 41, 59, 0.9);
        }

        .search-bar::placeholder {
            color: var(--gray-text);
        }

        .price-banner {
            background: linear-gradient(90deg, 
                rgba(124, 58, 237, 0.9), 
                rgba(91, 33, 182, 0.9));
            padding: 0.8rem 2rem;
            text-align: center;
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
            margin-bottom: 1rem;
            backdrop-filter: blur(5px);
            border-bottom: 2px solid var(--secondary);
        }

        .price-banner .highlight {
            background-color: var(--secondary);
            padding: 4px 12px;
            border-radius: 20px;
            margin: 0 8px;
            color: #000;
            font-size: 1.3rem;
            font-weight: 800;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
        }

        .payment-banner {
            background: linear-gradient(90deg, 
                rgba(30, 41, 59, 0.9), 
                rgba(51, 65, 85, 0.9));
            padding: 1.2rem 2rem;
            text-align: center;
            font-size: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            border-top: 2px solid var(--secondary);
            border-bottom: 2px solid var(--secondary);
            backdrop-filter: blur(5px);
        }

        .payment-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .payment-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .payment-icon {
            background-color: rgba(245, 158, 11, 0.2);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary);
        }

        .ref-code-info {
            margin-top: 10px;
            padding: 8px 15px;
            background: rgba(124, 58, 237, 0.1);
            border-radius: 8px;
            display: inline-block;
            font-size: 0.9rem;
            border: 1px solid rgba(124, 58, 237, 0.3);
        }

        .genre-filter {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 1.5rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .glow-btn {
            position: relative;
            padding: 14px 26px;
            background-color: rgba(30, 41, 59, 0.7);
            border: none;
            border-radius: var(--border-radius);
            color: var(--gray-text);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
            z-index: 1;
            min-width: 110px;
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glow-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--glow-cyan), 
                var(--glow-purple), 
                var(--glow-blue), 
                var(--glow-green));
            background-size: 400% 400%;
            border-radius: calc(var(--border-radius) + 2px);
            z-index: -1;
            opacity: 0;
            animation: glowing-border 3s ease-in-out infinite, pulse 2s ease-in-out infinite;
            transition: opacity 0.3s ease;
        }

        @keyframes glowing-border {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; filter: blur(0px); }
            50% { opacity: 0.8; filter: blur(1px); }
        }

        .glow-btn:hover {
            transform: translateY(-3px) scale(1.05);
            color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background-color: rgba(30, 41, 59, 0.9);
        }

        .glow-btn:hover::before {
            opacity: 1;
            animation-duration: 2s;
        }

        .glow-btn.active {
            background-color: rgba(124, 58, 237, 0.8);
            color: white;
            transform: translateY(-2px);
            border-color: var(--primary);
        }

        .glow-btn.active::before {
            opacity: 1;
            animation-duration: 2s;
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.7);
        }

        .glow-btn[data-genre="all"]::before {
            background: linear-gradient(45deg, var(--glow-cyan), var(--glow-purple), var(--glow-blue));
        }
        .glow-btn[data-genre="amapiano"]::before {
            background: linear-gradient(45deg, var(--glow-yellow), var(--glow-green), var(--glow-cyan));
        }
        .glow-btn[data-genre="afrobeats"]::before {
            background: linear-gradient(45deg, var(--glow-green), var(--glow-yellow), #ff6b6b);
        }
        .glow-btn[data-genre="worship"]::before {
            background: linear-gradient(45deg, var(--glow-blue), var(--glow-cyan), #a78bfa);
        }
        .glow-btn[data-genre="local"]::before {
            background: linear-gradient(45deg, #f97316, var(--glow-yellow), #f59e0b);
        }
        .glow-btn[data-genre="drill"]::before {
            background: linear-gradient(45deg, #ef4444, #f97316, #dc2626);
        }
        .glow-btn[data-genre="trap"]::before {
            background: linear-gradient(45deg, var(--glow-purple), var(--glow-pink), #a855f7);
        }
        .glow-btn[data-genre="hiphop"]::before {
            background: linear-gradient(45deg, #3b82f6, var(--glow-blue), #1d4ed8);
        }
        .glow-btn[data-genre="others"]::before {
            background: linear-gradient(45deg, var(--glow-pink), var(--glow-purple), #ec4899);
        }

        .beats-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem 3rem;
        }

        .beats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }

        .beat-card {
            background-color: rgba(30, 41, 59, 0.7);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
            border: 1px solid rgba(124, 58, 237, 0.1);
            position: relative;
            backdrop-filter: blur(10px);
        }

        .beat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--primary);
            background-color: rgba(30, 41, 59, 0.9);
        }

        .price-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(90deg, var(--secondary), #d97706);
            color: #000;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.9rem;
            z-index: 2;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .beat-id {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: var(--secondary);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.8rem;
            z-index: 2;
            border: 1px solid var(--secondary);
        }

        .beat-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
            padding-top: 2.5rem;
        }

        .beat-title {
            font-size: 1.5rem;
            margin-bottom: 8px;
            color: var(--light-text);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .beat-genre {
            display: inline-block;
            padding: 6px 14px;
            background-color: rgba(124, 58, 237, 0.2);
            color: var(--primary);
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            border: 1px solid rgba(124, 58, 237, 0.3);
        }

        .beat-player {
            padding: 1.5rem;
        }

        .audio-container {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1.2rem;
            margin-bottom: 1.5rem;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .preview-progress {
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border-radius: 2px;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }

        .preview-progress::after {
            content: '30s PREVIEW LIMIT';
            position: absolute;
            right: 0;
            top: -20px;
            font-size: 0.7rem;
            color: var(--secondary);
            font-weight: bold;
        }

        .preview-label {
            font-size: 0.9rem;
            color: var(--secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .custom-audio-player {
            width: 100%;
            margin: 10px 0;
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .play-pause-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .play-pause-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .progress-container {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .volume-slider {
            width: 80px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }

        .volume-level {
            height: 100%;
            background: var(--primary);
            border-radius: 2px;
            width: 100%;
        }

        .volume-icon {
            color: var(--gray-text);
            font-size: 1.1rem;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--gray-text);
            margin-top: 5px;
        }

        .locked-overlay {
            background-color: rgba(15, 23, 42, 0.9);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            margin-top: 1rem;
            border: 1px dashed var(--primary);
        }

        .lock-icon {
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .locked-text {
            color: var(--gray-text);
            margin-bottom: 15px;
        }

        .buy-btn {
            position: relative;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 16px 28px;
            border-radius: var(--border-radius);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 4px 15px rgba(124, 58, 237, 0.3);
        }

        .buy-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--glow-purple), 
                var(--glow-cyan), 
                var(--glow-blue), 
                var(--glow-purple));
            background-size: 400% 400%;
            border-radius: calc(var(--border-radius) + 2px);
            z-index: -1;
            opacity: 0;
            animation: glowing-border 3s ease-in-out infinite, pulse 2s ease-in-out infinite;
            transition: opacity 0.3s ease;
        }

        .buy-btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.4);
        }

        .buy-btn:hover::before {
            opacity: 1;
            animation-duration: 2s;
        }

        .buy-btn.unlocked {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .buy-btn.unlocked::before {
            background: linear-gradient(45deg, 
                var(--glow-green), 
                var(--glow-cyan), 
                #34d399, 
                var(--glow-green));
        }

        .security-warning {
            text-align: center;
            color: var(--secondary);
            font-size: 0.8rem;
            margin-top: 10px;
            font-style: italic;
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.98);
            z-index: 2000;
            padding: 2rem;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }

        .admin-panel.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
        }

        .admin-title {
            color: var(--light-text);
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-close {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .admin-close:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .admin-card {
            background: rgba(30, 41, 59, 0.8);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border: 1px solid rgba(124, 58, 237, 0.3);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .admin-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .admin-card h3 {
            color: var(--light-text);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-btn {
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .admin-btn:hover {
            background: linear-gradient(90deg, var(--primary-dark), #4c1d95);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.4);
        }

        .admin-btn.secondary {
            background: rgba(30, 41, 59, 0.9);
            border: 1px solid var(--primary);
        }

        .admin-btn.secondary:hover {
            background: rgba(124, 58, 237, 0.2);
        }

        .admin-btn.warning {
            background: linear-gradient(90deg, #dc2626, #b91c1c);
        }

        .admin-btn.warning:hover {
            background: linear-gradient(90deg, #b91c1c, #991b1b);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: rgba(124, 58, 237, 0.1);
            border-radius: var(--border-radius);
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(124, 58, 237, 0.2);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray-text);
            font-size: 0.9rem;
        }

        .admin-upload-section {
            background-color: rgba(30, 41, 59, 0.7);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin: 2rem auto;
            max-width: 800px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(51, 65, 85, 0.5);
            backdrop-filter: blur(10px);
        }

        .admin-upload-section h3 {
            color: var(--light-text);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-upload-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: var(--gray-text);
            font-weight: 600;
        }

        .form-group input, .form-group select {
            padding: 14px;
            border-radius: 8px;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--light-text);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            background-color: rgba(0, 0, 0, 0.5);
        }

        .upload-btn {
            position: relative;
            background: linear-gradient(90deg, var(--secondary), #d97706);
            color: white;
            border: none;
            padding: 18px;
            border-radius: var(--border-radius);
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        .upload-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--glow-yellow), 
                #f59e0b, 
                var(--glow-yellow), 
                #fbbf24);
            background-size: 400% 400%;
            border-radius: calc(var(--border-radius) + 2px);
            z-index: -1;
            opacity: 0;
            animation: glowing-border 3s ease-in-out infinite, pulse 2s ease-in-out infinite;
            transition: opacity 0.3s ease;
        }

        .upload-btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.4);
        }

        .upload-btn:hover::before {
            opacity: 1;
            animation-duration: 2s;
        }

        .password-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .password-form input {
            padding: 12px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--light-text);
            font-size: 1rem;
        }

        .password-form input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .password-requirements {
            font-size: 0.8rem;
            color: var(--gray-text);
            margin-top: 5px;
        }

        .paychangu-form {
            background: rgba(30, 41, 59, 0.8);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 1px solid rgba(245, 158, 11, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .paychangu-form h4 {
            color: var(--secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(245, 158, 11, 0.2);
            padding-bottom: 0.5rem;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .form-col {
            flex: 1;
            min-width: 250px;
        }
        
        .input-group {
            margin-bottom: 1rem;
        }
        
        .input-group label {
            display: block;
            color: var(--gray-text);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .paychangu-input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--light-text);
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .paychangu-input:focus {
            outline: none;
            border-color: var(--secondary);
            background: rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
        }
        
        .paychangu-input::placeholder {
            color: var(--gray-text);
            opacity: 0.7;
        }
        
        .toggle-password {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray-text);
            cursor: pointer;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        .paychangu-btn {
            background: linear-gradient(90deg, #f59e0b, #d97706);
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        .paychangu-btn:hover {
            background: linear-gradient(90deg, #d97706, #b45309);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
        }
        
        .paychangu-status {
            margin-top: 1rem;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            display: none;
        }
        
        .paychangu-status.success {
            background: rgba(52, 211, 153, 0.1);
            border: 1px solid rgba(52, 211, 153, 0.3);
            color: #10b981;
            display: block;
        }
        
        .paychangu-status.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
            display: block;
        }
        
        .mode-switch {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mode-label {
            color: var(--gray-text);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #dc2626;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #10b981;
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        .mode-test {
            color: #dc2626;
            font-weight: bold;
        }
        
        .mode-live {
            color: #10b981;
            font-weight: bold;
        }
        
        .live-mode-badge {
            display: inline-block;
            background: rgba(52, 211, 153, 0.2);
            color: #10b981;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
            border: 1px solid rgba(52, 211, 153, 0.3);
        }
        
        .test-mode-badge {
            display: inline-block;
            background: rgba(245, 158, 11, 0.2);
            color: var(--secondary);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .login-prompt {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(30, 41, 59, 0.95);
            padding: 2rem;
            border-radius: var(--border-radius);
            z-index: 3000;
            border: 2px solid var(--primary);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            max-width: 400px;
            width: 90%;
        }

        .login-prompt.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .login-prompt h3 {
            color: var(--light-text);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .login-input {
            width: 100%;
            padding: 14px;
            margin-bottom: 1rem;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(51, 65, 85, 0.5);
            color: var(--light-text);
            font-size: 1rem;
            text-align: center;
            letter-spacing: 1px;
        }

        .login-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .login-btn:hover {
            background: linear-gradient(90deg, var(--primary-dark), #4c1d95);
        }

        .login-error {
            color: #ef4444;
            text-align: center;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }

        .login-error.active {
            display: block;
        }

        .click-counter {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: var(--secondary);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: none;
            z-index: 100;
        }

        .click-counter.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .beat-card {
            animation: fadeIn 0.5s ease forwards;
        }

        .beat-count {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--gray-text);
            font-size: 1.1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .beat-count span {
            color: var(--primary);
            font-weight: 700;
        }

        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .payment-modal.active {
            display: flex;
        }

        .payment-modal-content {
            background: rgba(30, 41, 59, 0.95);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--primary);
            backdrop-filter: blur(20px);
        }

        .payment-modal h3 {
            margin-bottom: 1.5rem;
            color: var(--light-text);
            font-size: 1.8rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .payment-modal p {
            color: var(--gray-text);
            margin-bottom: 1rem;
        }

        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }

        .payment-option-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: var(--transition);
            color: var(--light-text);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .payment-option-btn:hover {
            background: rgba(124, 58, 237, 0.2);
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.3);
        }

        .payment-logo {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border-radius: 10px;
            background-color: white;
            padding: 8px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .airtel-logo {
            background-image: url('https://i.imgur.com/eEeDqyS.jpeg');
        }

        .mpamba-logo {
            background-image: url('https://i.imgur.com/kcDECnB.jpeg');
        }

        .nbs-logo {
            background-image: url('https://i.imgur.com/NfDQ1sG.jpeg');
        }

        .modal-close {
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
        }

        .modal-close:hover {
            background: linear-gradient(90deg, var(--primary-dark), #4c1d95);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(124, 58, 237, 0.4);
        }

        .whatsapp-float {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #25D366;
            color: white;
            border-radius: 50px;
            padding: 12px 20px;
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
            z-index: 999;
            text-decoration: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .whatsapp-float:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
            background: #128C7E;
        }

        .whatsapp-float i {
            font-size: 1.5rem;
        }

        footer {
            background-color: rgba(10, 15, 28, 0.9);
            padding: 2.5rem 2rem;
            margin-top: 3rem;
            text-align: center;
            border-top: 1px solid rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(10px);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .copyright {
            color: var(--gray-text);
            margin-top: 1.5rem;
        }

        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .logo-image {
                height: 90px;
            }
            
            .brand-name {
                font-size: 2.4rem;
            }
            
            .search-container {
                width: 100%;
                max-width: 100%;
            }
            
            .beats-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .admin-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            body {
                background-attachment: scroll;
            }
            
            .beats-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1.5rem;
            }
            
            .genre-filter {
                padding: 1rem;
                gap: 10px;
            }
            
            .glow-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
                min-width: 90px;
            }
            
            .payment-info {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
            
            .price-banner {
                font-size: 1rem;
                padding: 0.6rem 1rem;
            }
            
            .price-banner .highlight {
                font-size: 1.1rem;
                padding: 3px 10px;
            }
            
            .player-controls {
                gap: 10px;
            }
            
            .volume-slider {
                width: 60px;
            }
            
            .admin-upload-section {
                padding: 1.5rem;
                margin: 1rem auto;
            }
        }

        @media (max-width: 576px) {
            .beats-grid {
                grid-template-columns: 1fr;
            }
            
            .header, .beats-container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .genre-filter {
                gap: 8px;
            }
            
            .glow-btn {
                padding: 10px 16px;
                min-width: 80px;
                font-size: 0.85rem;
            }
            
            .player-controls {
                flex-wrap: wrap;
            }
            
            .volume-control {
                display: none;
            }
            
            .admin-grid {
                grid-template-columns: 1fr;
            }

            .whatsapp-float {
                bottom: 60px;
                right: 5px;
                padding: 8px 14px;
                font-size: 0;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                justify-content: center;
            }

            .whatsapp-float i {
                font-size: 1.8rem;
                margin: 0;
            }

            .logo-container {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .logo-image {
                height: 70px;
            }
            
            .brand-name {
                font-size: 2rem;
            }
            
            .tagline {
                font-size: 0.9rem;
            }
            
            .admin-upload-section {
                padding: 1rem;
            }
        }

        @media (max-width: 400px) {
            .logo-image {
                height: 60px;
            }
            
            .brand-name {
                font-size: 1.8rem;
            }
            
            .header {
                padding: 1rem;
            }
        }

        @media (max-width: 320px) {
            .logo-image {
                height: 50px;
            }
            
            .brand-name {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-container">
                <img src="https://i.imgur.com/kWbzwy2.png" alt="JONALEM BEATZ Logo" class="logo-image">
                <div class="logo-text">
                    <h1 class="brand-name">
                        <span class="jonaldem-text" id="secretClickArea">JONALEM</span>
                        <span class="beatz-text">BEATZ</span>
                    </h1>
                    <p class="tagline">Professional Beat Store</p>
                </div>
            </div>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-bar" id="searchBar" placeholder="Search beats by title...">
            </div>
        </div>
    </header>

    <div class="price-banner">
        <i class="fas fa-tag"></i> All Beats: <span class="highlight">MWK 6,000</span> Each | 
        <i class="fas fa-headphones"></i> 30-Second Free Preview | 
        <i class="fas fa-unlock"></i> Instant Unlock After Payment
    </div>

    <div class="payment-banner">
        <div class="payment-info">
            <div class="payment-item">
                <div class="payment-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <div>
                    <strong>SECURE PAYMENTS VIA PAYCHANGU</strong>
                </div>
            </div>
            <div class="payment-item">
                <div class="payment-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <div>
                    <strong>100% SECURE TRANSACTIONS</strong>
                </div>
            </div>
            <div class="payment-item">
                <div class="payment-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <div>
                    <strong>INSTANT BEAT UNLOCK</strong>
                </div>
            </div>
        </div>
        <div class="ref-code-info">
            <i class="fas fa-key"></i> <strong>IMPORTANT:</strong> Each purchase generates a unique Reference Code
        </div>
    </div>

    <div class="genre-filter">
        <button class="glow-btn active" data-genre="all">All</button>
        <button class="glow-btn" data-genre="amapiano">Amapiano</button>
        <button class="glow-btn" data-genre="afrobeats">Afrobeats</button>
        <button class="glow-btn" data-genre="worship">Worship</button>
        <button class="glow-btn" data-genre="local">Local</button>
        <button class="glow-btn" data-genre="drill">Drill</button>
        <button class="glow-btn" data-genre="trap">Trap</button>
        <button class="glow-btn" data-genre="hiphop">Hip Hop</button>
        <button class="glow-btn" data-genre="others">Others</button>
    </div>

    <section class="beats-container">
        <div class="beat-count">
            Showing <span id="beatCount">0</span> beats at <span style="color: var(--secondary); font-weight: 700;">MWK 6,000</span> each
        </div>
        <div class="beats-grid" id="beatsGrid">

        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="logo-container" style="flex-direction: column; align-items: center; gap: 15px;">
                <img src="https://i.imgur.com/kWbzwy2.png" alt="JONALEM BEATZ Logo" class="logo-image" style="height: 120px;">
                <div class="logo-text" style="align-items: center;">
                    <h1 class="brand-name">
                        <span class="jonaldem-text">JONALEM</span>
                        <span class="beatz-text">BEATZ</span>
                    </h1>
                    <p class="tagline" style="font-size: 1.1rem; margin-top: 8px;">Professional Beat Store</p>
                </div>
            </div>
            <p>Professional quality beats for artists, producers, and content creators</p>
            <p style="color: var(--secondary); font-weight: 700; margin-top: 10px;">
                <i class="fas fa-money-bill-wave"></i> Standard Price: MWK 6,000 per beat
            </p>
            <div class="copyright">
                &copy; 2023 JONALEM BEATZ. All rights reserved. | All beats MWK 6,000
            </div>
        </div>
    </footer>

    <a href="https://wa.me/265883930885" class="whatsapp-float" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-whatsapp"></i>
        <span>WhatsApp</span>
    </a>

    <!-- ========== ADMIN PANEL (SECURITY ROOM) ========== -->
    <!-- ADMIN ONLY: This panel is only accessible after clicking JONALEM 10 times and entering password -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2 class="admin-title"><i class="fas fa-user-shield"></i> JONALEM BEATZ Admin Panel</h2>
            <button class="admin-close" onclick="closeAdminPanel()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="adminBeatCount">0</div>
                <div class="stat-label">Total Beats</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="adminPurchaseCount">0</div>
                <div class="stat-label">Total Purchases</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">MWK 6,000</div>
                <div class="stat-label">Price Per Beat</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="adminRevenue">MWK 0</div>
                <div class="stat-label">Estimated Revenue</div>
            </div>
        </div>
        
        <div class="admin-upload-section">
            <h3><i class="fas fa-cloud-upload-alt"></i> Upload New Beat</h3>
            <form class="admin-upload-form" id="adminUploadForm">
                <div class="form-group">
                    <label for="adminBeatTitle">Beat Title</label>
                    <input type="text" id="adminBeatTitle" placeholder="Enter beat title" required>
                </div>
                <div class="form-group">
                    <label for="adminBeatGenre">Genre</label>
                    <select id="adminBeatGenre" required>
                        <option value="">Select a genre</option>
                        <option value="amapiano">Amapiano</option>
                        <option value="afrobeats">Afrobeats</option>
                        <option value="worship">Worship</option>
                        <option value="local">Local</option>
                        <option value="drill">Drill</option>
                        <option value="trap">Trap</option>
                        <option value="hiphop">Hip Hop</option>
                        <option value="others">Others</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="adminBeatFile">Audio File (MP3, WAV) - 30-second preview will be enforced</label>
                    <input type="file" id="adminBeatFile" accept="audio/*" required>
                    <small style="color: var(--gray-text); margin-top: 5px;">Note: Beat will be automatically assigned a unique ID and priced at MWK 6,000</small>
                </div>
                <button type="submit" class="upload-btn">
                    <i class="fas fa-upload"></i> Upload Beat (Auto-ID + MWK 6,000)
                </button>
            </form>
        </div>
        
        <div class="admin-grid">
            <!-- ========== PAYCHANGU CONFIGURATION (ADMIN ONLY - SECURITY ROOM) ========== -->
            <!-- ADMIN ONLY: This section contains sensitive PayChangu keys - NEVER exposed to customers -->
            <div class="admin-card">
                <h3><i class="fas fa-credit-card"></i> PayChangu Setup 
                    <span id="modeBadge" class="test-mode-badge">TEST MODE</span>
                </h3>
                <p>Configure PayChangu payment gateway</p>
                
                <!-- TEST/LIVE MODE TOGGLE -->
                <div class="mode-switch">
                    <span class="mode-label">Mode:</span>
                    <label class="switch">
                        <input type="checkbox" id="modeToggle" onchange="togglePayChanguMode()">
                        <span class="slider"></span>
                    </label>
                    <span id="modeText" class="mode-test">TEST MODE</span>
                </div>
                
                <div class="paychangu-form" id="paychanguForm">
                    <h4><i class="fas fa-key"></i> API Keys (Admin Only)</h4>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="input-group">
                                <label for="paychanguPublicKey">Public Key <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="paychanguPublicKey" class="paychangu-input" 
                                       placeholder="pk_test_xxxxxxxxxxxx" autocomplete="off">
                            </div>
                            
                            <div class="input-group">
                                <label for="paychanguWebhookSecret">Webhook Secret <span style="color: var(--secondary);">*</span></label>
                                <div class="input-wrapper">
                                    <input type="password" id="paychanguWebhookSecret" class="paychangu-input" 
                                           placeholder="whsec_xxxxxxxxxxxx" autocomplete="off">
                                    <button type="button" class="toggle-password" onclick="togglePasswordVisibility('paychanguWebhookSecret')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-col">
                            <div class="input-group">
                                <label for="paychanguSecretKey">Secret Key <span style="color: var(--secondary);">*</span></label>
                                <div class="input-wrapper">
                                    <input type="password" id="paychanguSecretKey" class="paychangu-input" 
                                           placeholder="sk_test_xxxxxxxxxxxx" autocomplete="off">
                                    <button type="button" class="toggle-password" onclick="togglePasswordVisibility('paychanguSecretKey')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h4><i class="fas fa-mobile-alt"></i> Mobile Money Accounts (For Withdrawals)</h4>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="input-group">
                                <label for="airtelAccountNumber">Airtel Money Number <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="airtelAccountNumber" class="paychangu-input" 
                                       placeholder="265XXXXXXXXX" autocomplete="off">
                                <small style="color: var(--gray-text); font-size: 0.8rem;">Format: 265XXXXXXXXX</small>
                            </div>
                            
                            <div class="input-group">
                                <label for="airtelAccountName">Airtel Account Name <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="airtelAccountName" class="paychangu-input" 
                                       placeholder="JONALEM BEATZ" autocomplete="off">
                            </div>
                        </div>
                        
                        <div class="form-col">
                            <div class="input-group">
                                <label for="mpambaAccountNumber">TNM MPAMBA Number <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="mpambaAccountNumber" class="paychangu-input" 
                                       placeholder="265XXXXXXXXX" autocomplete="off">
                                <small style="color: var(--gray-text); font-size: 0.8rem;">Format: 265XXXXXXXXX</small>
                            </div>
                            
                            <div class="input-group">
                                <label for="mpambaAccountName">MPAMBA Account Name <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="mpambaAccountName" class="paychangu-input" 
                                       placeholder="JONALEM BEATZ" autocomplete="off">
                            </div>
                        </div>
                    </div>
                    
                    <h4><i class="fas fa-university"></i> Bank Account Details (NBS - For Withdrawals)</h4>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="input-group">
                                <label for="nbsAccountName">Account Name <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="nbsAccountName" class="paychangu-input" 
                                       placeholder="JONALEM BEATZ" autocomplete="off">
                            </div>
                            
                            <div class="input-group">
                                <label for="nbsAccountNumber">Account Number <span style="color: var(--secondary);">*</span></label>
                                <input type="text" id="nbsAccountNumber" class="paychangu-input" 
                                       placeholder="1000000000" autocomplete="off">
                            </div>
                        </div>
                        
                        <div class="form-col">
                            <div class="input-group">
                                <label for="nbsTransferPin">Transfer PIN <span style="color: var(--secondary);">*</span></label>
                                <div class="input-wrapper">
                                    <input type="password" id="nbsTransferPin" class="paychangu-input" 
                                           placeholder="4-digit PIN" maxlength="4" autocomplete="off">
                                    <button type="button" class="toggle-password" onclick="togglePasswordVisibility('nbsTransferPin')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <small style="color: var(--gray-text); font-size: 0.8rem;">Bank transfer PIN (NOT PayChangu PIN)</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="paychangu-status" id="paychanguStatus"></div>
                    
                    <button class="paychangu-btn" onclick="savePayChanguConfig()">
                        <i class="fas fa-save"></i> Save PayChangu Configuration
                    </button>
                    
                    <button class="paychangu-btn" onclick="testPayChanguConnection()" style="background: linear-gradient(90deg, #3b82f6, #1d4ed8); margin-left: 10px;">
                        <i class="fas fa-plug"></i> Test Connection
                    </button>
                </div>
            </div>
            
            <div class="admin-card">
                <h3><i class="fas fa-music"></i> Beat Management</h3>
                <p>Manage your beats collection</p>
                <button class="admin-btn secondary" onclick="exportBeatsData()">
                    <i class="fas fa-download"></i> Export All Beats
                </button>
                <button class="admin-btn secondary" onclick="document.getElementById('importFile').click()">
                    <i class="fas fa-upload"></i> Import Beats
                </button>
            </div>
            
            <div class="admin-card">
                <h3><i class="fas fa-shopping-cart"></i> Sales & Purchases</h3>
                <p>View purchase history and manage sales</p>
                <button class="admin-btn" onclick="showPurchaseHistory()">
                    <i class="fas fa-history"></i> View Purchase History
                </button>
                <button class="admin-btn secondary" onclick="checkReferenceCode()">
                    <i class="fas fa-search"></i> Check Reference Code
                </button>
            </div>
            
            <div class="admin-card">
                <h3><i class="fas fa-cogs"></i> Admin Settings</h3>
                <p>Change password and manage settings</p>
                <div class="password-form" id="passwordForm">
                    <input type="password" id="currentPassword" placeholder="Current Password">
                    <input type="password" id="newPassword" placeholder="New Password">
                    <input type="password" id="confirmPassword" placeholder="Confirm New Password">
                    <button class="admin-btn" onclick="changeAdminPassword()">
                        <i class="fas fa-key"></i> Change Password
                    </button>
                </div>
                <div class="password-requirements">
                    Password must be at least 8 characters
                </div>
            </div>
            
            <div class="admin-card">
                <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                <p>Quick admin functions</p>
                <button class="admin-btn secondary" onclick="clearLocalStorage()">
                    <i class="fas fa-trash"></i> Clear Test Data
                </button>
                <button class="admin-btn secondary" onclick="viewAllReferenceCodes()">
                    <i class="fas fa-list"></i> View All Reference Codes
                </button>
                <button class="admin-btn warning" onclick="logoutAdmin()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 2rem; color: var(--gray-text); font-size: 0.9rem;">
            <i class="fas fa-info-circle"></i> Admin Panel - For JONALEM BEATZ Management Only
        </div>
    </div>

    <!-- ========== LOGIN PROMPT ========== -->
    <div class="login-prompt" id="loginPrompt">
        <h3><i class="fas fa-lock"></i> Admin Access Required</h3>
        <input type="password" class="login-input" id="adminPassword" placeholder="Enter Admin Password" autocomplete="off">
        <button class="login-btn" onclick="verifyAdminPassword()">
            <i class="fas fa-sign-in-alt"></i> Login
        </button>
        <div class="login-error" id="loginError">
            <i class="fas fa-exclamation-circle"></i> Incorrect password!
        </div>
        <div style="text-align: center; margin-top: 1rem;">
            <button onclick="closeLoginPrompt()" style="background: none; border: none; color: var(--gray-text); cursor: pointer; font-size: 0.9rem;">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>

    <div class="click-counter" id="clickCounter">
        Clicks: <span id="clickCount">0</span>/10
    </div>

    <!-- ========== PAYMENT MODAL ========== -->
    <!-- CUSTOMER-FACING: Customers choose payment method here -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-modal-content">
            <h3><i class="fas fa-wallet"></i> Choose Payment Method</h3>
            <p>Select your preferred payment method for MWK 6,000</p>
            
            <div class="payment-options">
                <button class="payment-option-btn" onclick="selectPaymentMethod('airtel')">
                    <div class="payment-logo airtel-logo" title="Airtel Money">

                    </div>
                    <span>AIRTEL MONEY</span>
                </button>
                
                <button class="payment-option-btn" onclick="selectPaymentMethod('mpamba')">
                    <div class="payment-logo mpamba-logo" title="TNM MPAMBA">

                    </div>
                    <span>TNM MPAMBA</span>
                </button>
                
                <button class="payment-option-btn" onclick="selectPaymentMethod('nbs')">
                    <div class="payment-logo nbs-logo" title="NBS BANK">

                    </div>
                    <span>NBS BANK</span>
                </button>
            </div>
            
            <button class="modal-close" onclick="closePaymentModal()">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>

    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importBeatsData(event)">

    <script>
        // ==================== ADMIN AUTHENTICATION SYSTEM ====================
        const ADMIN_REQUIRED_CLICKS = 10;
        const DEFAULT_ADMIN_PASSWORD = "jonalem2002";
        
        let clickCount = 0;
        let isAdminLoggedIn = false;
        let clickTimeout = null;
        
        function getAdminPassword() {
            const storedPassword = localStorage.getItem('jonalem_admin_password');
            return storedPassword || DEFAULT_ADMIN_PASSWORD;
        }
        
        function setAdminPassword(newPassword) {
            localStorage.setItem('jonalem_admin_password', newPassword);
        }
        
        document.getElementById('secretClickArea').addEventListener('click', function(e) {
            clickCount++;
            
            const clickCounter = document.getElementById('clickCounter');
            const clickCountSpan = document.getElementById('clickCount');
            clickCountSpan.textContent = clickCount;
            
            clickCounter.classList.add('active');
            
            if (clickTimeout) clearTimeout(clickTimeout);
            clickTimeout = setTimeout(() => {
                clickCount = 0;
                clickCounter.classList.remove('active');
            }, 3000);
            
            if (clickCount >= ADMIN_REQUIRED_CLICKS) {
                clickCount = 0;
                clickCounter.classList.remove('active');
                showLoginPrompt();
            }
            
            e.target.style.transform = 'scale(1.1)';
            setTimeout(() => {
                e.target.style.transform = 'scale(1)';
            }, 200);
        });
        
        function showLoginPrompt() {
            document.getElementById('loginPrompt').classList.add('active');
            document.getElementById('adminPassword').focus();
            document.body.style.overflow = 'hidden';
        }
        
        function closeLoginPrompt() {
            document.getElementById('loginPrompt').classList.remove('active');
            document.getElementById('adminPassword').value = '';
            document.getElementById('loginError').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function verifyAdminPassword() {
            const inputPassword = document.getElementById('adminPassword').value;
            const currentPassword = getAdminPassword();
            
            if (inputPassword === currentPassword) {
                isAdminLoggedIn = true;
                closeLoginPrompt();
                showAdminPanel();
                
                loadPayChanguConfig();
            } else {
                document.getElementById('loginError').classList.add('active');
                document.getElementById('adminPassword').value = '';
                document.getElementById('adminPassword').focus();
                
                const loginPrompt = document.getElementById('loginPrompt');
                loginPrompt.style.animation = 'none';
                setTimeout(() => {
                    loginPrompt.style.animation = 'shake 0.5s';
                }, 10);
            }
        }
        
        function showAdminPanel() {
            document.getElementById('adminPanel').classList.add('active');
            document.body.style.overflow = 'hidden';
            updateAdminStats();
        }
        
        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function logoutAdmin() {
            isAdminLoggedIn = false;
            closeAdminPanel();
        }
        
        function updateAdminStats() {
            document.getElementById('adminBeatCount').textContent = beats.length;
            
            const purchaseCount = purchaseHistory.length;
            const revenue = purchaseCount * 6000;
            document.getElementById('adminPurchaseCount').textContent = purchaseCount;
            document.getElementById('adminRevenue').textContent = `MWK ${revenue.toLocaleString()}`;
        }
        
        function changeAdminPassword() {
            const currentInput = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            const currentPassword = getAdminPassword();
            
            if (currentInput !== currentPassword) {
                return;
            }
            
            if (newPassword.length < 8) {
                return;
            }
            
            if (newPassword !== confirmPassword) {
                return;
            }
            
            setAdminPassword(newPassword);
            
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }
        
        function viewAllReferenceCodes() {
            if (purchaseHistory.length === 0) {
                return;
            }
            
            let codesText = " ALL REFERENCE CODES\n\n\n";
            purchaseHistory.forEach((purchase, index) => {
                codesText += `${index + 1}. ${purchase.refCode} - ${purchase.beatTitle} (${purchase.status})\n`;
            });
        }
        
        function clearLocalStorage() {
            if (confirm(" WARNING: This will clear ALL test data including beats, purchases, and reference codes.\n\nAre you sure you want to continue?")) {
                localStorage.clear();
                beats = [...initialBeats];
                nextId = 1013;
                purchasedBeats = [];
                purchaseHistory = [];
                localStorage.setItem('jonalemBeats', JSON.stringify(beats));
                
                renderBeats(beats);
                updateBeatCount(beats.length);
                
                if (isAdminLoggedIn) {
                    updateAdminStats();
                }
            }
        }

        // ==================== PAYCHANGU INTEGRATION (ADMIN ONLY - SECURITY ROOM) ====================
        // ADMIN ONLY: These configuration values are stored in localStorage and NEVER exposed to customers
        let paychanguConfig = JSON.parse(localStorage.getItem('paychanguConfig')) || {
            publicKey: '',
            secretKey: '',
            webhookSecret: '',
            airtelAccountNumber: '',
            airtelAccountName: '',
            mpambaAccountNumber: '',
            mpambaAccountName: '',
            nbsAccountName: '',
            nbsAccountNumber: '',
            nbsTransferPin: '',
            isTestMode: true  // Default to TEST MODE for safety
        };

        function loadPayChanguConfig() {
            if (!isAdminLoggedIn) return;
            
            document.getElementById('paychanguPublicKey').value = paychanguConfig.publicKey || '';
            document.getElementById('paychanguSecretKey').value = paychanguConfig.secretKey || '';
            document.getElementById('paychanguWebhookSecret').value = paychanguConfig.webhookSecret || '';
            
            document.getElementById('airtelAccountNumber').value = paychanguConfig.airtelAccountNumber || '';
            document.getElementById('airtelAccountName').value = paychanguConfig.airtelAccountName || '';
            document.getElementById('mpambaAccountNumber').value = paychanguConfig.mpambaAccountNumber || '';
            document.getElementById('mpambaAccountName').value = paychanguConfig.mpambaAccountName || '';
            
            document.getElementById('nbsAccountName').value = paychanguConfig.nbsAccountName || '';
            document.getElementById('nbsAccountNumber').value = paychanguConfig.nbsAccountNumber || '';
            document.getElementById('nbsTransferPin').value = paychanguConfig.nbsTransferPin || '';
            
            // Set mode toggle based on saved configuration
            document.getElementById('modeToggle').checked = !paychanguConfig.isTestMode;
            updateModeDisplay(!paychanguConfig.isTestMode);
        }

        function togglePayChanguMode() {
            const isLiveMode = document.getElementById('modeToggle').checked;
            paychanguConfig.isTestMode = !isLiveMode;
            updateModeDisplay(isLiveMode);
            localStorage.setItem('paychanguConfig', JSON.stringify(paychanguConfig));
            
            const modeText = isLiveMode ? 'LIVE MODE' : 'TEST MODE';
            showPayChanguStatus(` Switched to ${modeText} - ${isLiveMode ? 'REAL MONEY TRANSACTIONS' : 'TEST TRANSACTIONS ONLY'}`, 'success');
        }

        function updateModeDisplay(isLiveMode) {
            const modeBadge = document.getElementById('modeBadge');
            const modeText = document.getElementById('modeText');
            
            if (isLiveMode) {
                modeBadge.textContent = 'LIVE MODE';
                modeBadge.className = 'live-mode-badge';
                modeText.textContent = 'LIVE MODE';
                modeText.className = 'mode-live';
            } else {
                modeBadge.textContent = 'TEST MODE';
                modeBadge.className = 'test-mode-badge';
                modeText.textContent = 'TEST MODE';
                modeText.className = 'mode-test';
            }
        }

        function togglePasswordVisibility(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.nextElementSibling.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        function savePayChanguConfig() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            const publicKey = document.getElementById('paychanguPublicKey').value.trim();
            const secretKey = document.getElementById('paychanguSecretKey').value.trim();
            const webhookSecret = document.getElementById('paychanguWebhookSecret').value.trim();
            
            const airtelAccountNumber = document.getElementById('airtelAccountNumber').value.trim();
            const airtelAccountName = document.getElementById('airtelAccountName').value.trim();
            const mpambaAccountNumber = document.getElementById('mpambaAccountNumber').value.trim();
            const mpambaAccountName = document.getElementById('mpambaAccountName').value.trim();
            
            const nbsAccountName = document.getElementById('nbsAccountName').value.trim();
            const nbsAccountNumber = document.getElementById('nbsAccountNumber').value.trim();
            const nbsTransferPin = document.getElementById('nbsTransferPin').value.trim();
            
            // Basic validation for API keys
            if (!publicKey || !secretKey || !webhookSecret) {
                showPayChanguStatus(' Please fill all required API fields', 'error');
                return;
            }
            
            // Validate key format based on mode
            const isTestMode = !document.getElementById('modeToggle').checked;
            
            if (isTestMode) {
                if (!publicKey.startsWith('pk_test_') || !secretKey.startsWith('sk_test_')) {
                    showPayChanguStatus(' In TEST MODE, keys must start with pk_test_ and sk_test_', 'error');
                    return;
                }
            } else {
                if (!publicKey.startsWith('pk_live_') || !secretKey.startsWith('sk_live_')) {
                    showPayChanguStatus(' In LIVE MODE, keys must start with pk_live_ and sk_live_', 'error');
                    return;
                }
            }
            
            // Save configuration
            paychanguConfig = {
                publicKey,
                secretKey,
                webhookSecret,
                airtelAccountNumber,
                airtelAccountName,
                mpambaAccountNumber,
                mpambaAccountName,
                nbsAccountName,
                nbsAccountNumber,
                nbsTransferPin,
                isTestMode: isTestMode
            };
            
            localStorage.setItem('paychanguConfig', JSON.stringify(paychanguConfig));
            
            const modeText = isTestMode ? 'TEST MODE' : 'LIVE MODE';
            showPayChanguStatus(` PayChangu configuration saved successfully in ${modeText}!`, 'success');
        }

        function testPayChanguConnection() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            const publicKey = document.getElementById('paychanguPublicKey').value.trim();
            const secretKey = document.getElementById('paychanguSecretKey').value.trim();
            
            if (!publicKey || !secretKey) {
                showPayChanguStatus(' Please enter Public and Secret keys first', 'error');
                return;
            }
            
            const isTestMode = !document.getElementById('modeToggle').checked;
            const modeText = isTestMode ? 'TEST' : 'LIVE';
            
            showPayChanguStatus(` Testing PayChangu ${modeText} connection...`, 'success');
            
            setTimeout(() => {
                if (isTestMode) {
                    if (publicKey.startsWith('pk_test_') && secretKey.startsWith('sk_test_')) {
                        showPayChanguStatus(` ${modeText} connection successful! PayChangu is ready for ${modeText} payments.`, 'success');
                    } else {
                        showPayChanguStatus(' Invalid TEST key format. Keys should start with pk_test_/sk_test_', 'error');
                    }
                } else {
                    if (publicKey.startsWith('pk_live_') && secretKey.startsWith('sk_live_')) {
                        showPayChanguStatus(` ${modeText} MODE CONNECTED! REAL MONEY TRANSACTIONS ENABLED.`, 'success');
                    } else {
                        showPayChanguStatus(' Invalid LIVE key format. Keys should start with pk_live_/sk_live_', 'error');
                    }
                }
            }, 1500);
        }

        function showPayChanguStatus(message, type) {
            const statusEl = document.getElementById('paychanguStatus');
            statusEl.textContent = message;
            statusEl.className = `paychangu-status ${type}`;
            
            setTimeout(() => {
                statusEl.className = 'paychangu-status';
                statusEl.textContent = '';
            }, 5000);
        }

        // ==================== REAL PAYCHANGU PAYMENT INTEGRATION ====================
        // ADMIN ONLY: This function makes the actual PayChangu API call and redirects to checkout URL
        async function initiateRealPayChanguPayment(beatId, method) {
            if (!paychanguConfig.publicKey || !paychanguConfig.secretKey) {
                console.error('PayChangu not configured');
                return false;
            }
            
            const beat = beats.find(b => b.id === beatId);
            if (!beat) {
                console.error('Beat not found');
                return false;
            }
            
            // Generate unique transaction reference
            const transactionRef = `JNL${Date.now()}${Math.random().toString(36).substr(2, 4).toUpperCase()}`;
            
            // Map method to PayChangu channel
            let channel = '';
            switch(method) {
                case 'airtel': channel = 'AIRTEL_MONEY'; break;
                case 'mpamba': channel = 'TNM_MPAMBA'; break;
                case 'nbs': channel = 'BANK_TRANSFER'; break;
                default: channel = 'ALL';
            }
            
            // Create payment payload for PayChangu API
            const paymentData = {
                amount: 6000,
                currency: "MWK",
                description: `JONALEM BEATZ: ${beat.title} (ID: ${beat.id})`,
                merchantReference: transactionRef,
                channel: channel,
                callbackUrl: `${window.location.origin}/paychangu-callback`, // Webhook URL
                returnUrl: `${window.location.origin}/payment-success?beatId=${beat.id}&ref=${transactionRef}`,
                metadata: {
                    beatId: beat.id,
                    beatTitle: beat.title,
                    beatGenre: beat.genre
                }
            };
            
            try {
                const apiUrl = paychanguConfig.isTestMode 
                    ? 'https://api.paychangu.com/v1/test/payments'  // Test endpoint
                    : 'https://api.paychangu.com/v1/payments';       // Live endpoint
                
                // Make API call to PayChangu
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${paychanguConfig.secretKey}`
                    },
                    body: JSON.stringify(paymentData)
                });
                
                if (!response.ok) {
                    throw new Error(`PayChangu API error: ${response.status}`);
                }
                
                const result = await response.json();
                
                // PayChangu returns a checkoutUrl in the response
                if (result.success && result.data && result.data.checkoutUrl) {
                    // Store pending payment
                    const pendingPayment = {
                        transactionRef,
                        beatId,
                        beatTitle: beat.title,
                        amount: 6000,
                        method: method.toUpperCase(),
                        status: 'pending',
                        initiatedAt: new Date().toISOString(),
                        paychanguMode: paychanguConfig.isTestMode ? 'TEST' : 'LIVE'
                    };
                    
                    let pendingPayments = JSON.parse(localStorage.getItem('pendingPayments')) || [];
                    pendingPayments.push(pendingPayment);
                    localStorage.setItem('pendingPayments', JSON.stringify(pendingPayments));
                    
                    // Redirect user to PayChangu checkout
                    window.open(result.data.checkoutUrl, '_blank');
                    
                    return true;
                } else {
                    console.error('PayChangu API did not return checkout URL', result);
                    return false;
                }
                
            } catch (error) {
                console.error('PayChangu payment initiation failed:', error);
                return false;
            }
        }

        // ==================== PAYMENT VERIFICATION ====================
        // This function would be called by PayChangu webhook/callback
        // For GitHub Pages (static), you'll need a different approach
        // Consider using a serverless function (Netlify, Vercel, Cloudflare) for webhooks
        async function verifyPayChanguPayment(transactionRef, beatId) {
            try {
                const apiUrl = paychanguConfig.isTestMode 
                    ? `https://api.paychangu.com/v1/test/payments/${transactionRef}`
                    : `https://api.paychangu.com/v1/payments/${transactionRef}`;
                
                const response = await fetch(apiUrl, {
                    headers: {
                        'Authorization': `Bearer ${paychanguConfig.secretKey}`
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`Failed to verify payment: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.success && result.data && result.data.status === 'SUCCESSFUL') {
                    // Payment successful - unlock beat
                    unlockBeatForCustomer(beatId, transactionRef, result.data);
                    return true;
                }
                
                return false;
                
            } catch (error) {
                console.error('Payment verification failed:', error);
                return false;
            }
        }

        function unlockBeatForCustomer(beatId, transactionRef, paymentData) {
            const beat = beats.find(b => b.id === beatId);
            if (!beat) return false;
            
            // Generate reference code
            const refCode = generateReferenceCode();
            
            // Create purchase record
            const purchaseRecord = {
                beatId: beat.id,
                beatTitle: beat.title,
                beatGenre: beat.genre,
                refCode: refCode,
                price: "MWK 6,000",
                paymentMethod: 'PayChangu',
                transactionRef: transactionRef,
                timestamp: new Date().toISOString(),
                status: 'completed',
                completedAt: new Date().toISOString(),
                viaPayChangu: true,
                paychanguMode: paychanguConfig.isTestMode ? 'TEST' : 'LIVE',
                paymentDetails: paymentData
            };
            
            // Save to purchase history
            purchaseHistory.push(purchaseRecord);
            localStorage.setItem('purchaseHistory', JSON.stringify(purchaseHistory));
            
            // Save by reference code
            localStorage.setItem(`ref_${refCode}`, JSON.stringify(purchaseRecord));
            
            // Unlock the beat
            if (!purchasedBeats.includes(beat.id)) {
                purchasedBeats.push(beat.id);
                localStorage.setItem('purchasedBeats', JSON.stringify(purchasedBeats));
            }
            
            // Refresh display to show unlocked beat
            const activeGenre = document.querySelector('.glow-btn.active').getAttribute('data-genre');
            filterBeatsByGenre(activeGenre);
            
            // Update admin stats if panel is open
            if (isAdminLoggedIn) {
                updateAdminStats();
            }
            
            return true;
        }

        // ==================== PUBLIC-FACING PAYMENT FUNCTIONS ====================
        // These are called when customers click Buy button
        function startPurchaseProcess(beatId) {
            currentBeatIdForPurchase = beatId;
            openPaymentModal();
        }
        
        function openPaymentModal() {
            paymentModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closePaymentModal() {
            paymentModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            currentBeatIdForPurchase = null;
        }
        
        function selectPaymentMethod(method) {
            if (!currentBeatIdForPurchase) return;
            
            const beat = beats.find(b => b.id === currentBeatIdForPurchase);
            if (!beat) return;
            
            closePaymentModal();
            
            // Initiate REAL PayChangu payment
            initiateRealPayChanguPayment(beat.id, method);
        }

        // ==================== SIMULATED PAYMENT VERIFICATION FOR TESTING ====================
        // REMOVE THIS IN PRODUCTION - Only for testing without webhooks
        function simulatePayChanguCallback() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            const transactionRef = prompt("Enter PayChangu Transaction Reference to simulate callback:", "");
            if (!transactionRef) return;
            
            const beatId = prompt("Enter Beat ID that was purchased:", "");
            if (!beatId) return;
            
            const paymentData = {
                status: 'SUCCESSFUL',
                amount: 6000,
                currency: 'MWK',
                paidAt: new Date().toISOString()
            };
            
            if (unlockBeatForCustomer(parseInt(beatId), transactionRef, paymentData)) {
                console.log(' Simulated payment successful - beat unlocked');
            } else {
                console.error(' Simulated payment failed');
            }
        }

        // ==================== BEAT STORE SYSTEM ====================
        const BEAT_PRICE = "MWK 6,000";
        const PREVIEW_LIMIT = 30;
        
        const initialBeats = [
            { id: 1001, title: "Midnight Groove", genre: "amapiano", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" },
            { id: 1002, title: "African Sunset", genre: "afrobeats", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-summer-bossa-481.mp3" },
            { id: 1003, title: "Heaven's Touch", genre: "worship", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-deep-urban-623.mp3" },
            { id: 1004, title: "Village Rhythms", genre: "local", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-driving-ambition-32.mp3" },
            { id: 1005, title: "Dark Alley", genre: "drill", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-hazy-after-hours-132.mp3" },
            { id: 1006, title: "Atlanta Flow", genre: "trap", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-steps-01-707.mp3" },
            { id: 1007, title: "Street Dreams", genre: "hiphop", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-hip-hop-02-74.mp3" },
            { id: 1008, title: "Eternal Hope", genre: "worship", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-piano-ambience-479.mp3" },
            { id: 1009, title: "Soulful Keys", genre: "amapiano", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-chill-001-50.mp3" },
            { id: 1010, title: "Desert Wind", genre: "afrobeats", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-soul-rnb-1-666.mp3" },
            { id: 1011, title: "Underground King", genre: "hiphop", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-hip-hop-01-737.mp3" },
            { id: 1012, title: "Mystic Vibes", genre: "others", previewUrl: "https://assets.mixkit.co/music/preview/mixkit-mysterious-forest-583.mp3" }
        ];

        let beats = [];
        let nextId = 1013;
        let purchasedBeats = JSON.parse(localStorage.getItem('purchasedBeats')) || [];
        let purchaseHistory = JSON.parse(localStorage.getItem('purchaseHistory')) || [];
        let currentBeatIdForPurchase = null;
        
        const beatsGrid = document.getElementById('beatsGrid');
        const genreButtons = document.querySelectorAll('.glow-btn');
        const searchBar = document.getElementById('searchBar');
        const beatCount = document.getElementById('beatCount');
        const paymentModal = document.getElementById('paymentModal');
        const adminUploadForm = document.getElementById('adminUploadForm');
        
        function initPage() {
            const savedBeats = localStorage.getItem('jonalemBeats');
            if (savedBeats && JSON.parse(savedBeats).length > 0) {
                beats = JSON.parse(savedBeats);
                nextId = Math.max(...beats.map(b => b.id)) + 1;
            } else {
                beats = [...initialBeats];
                nextId = 1013;
                localStorage.setItem('jonalemBeats', JSON.stringify(beats));
            }
            
            purchaseHistory = JSON.parse(localStorage.getItem('purchaseHistory')) || [];
            
            // Check URL parameters for payment callback (for GitHub Pages static hosting)
            const urlParams = new URLSearchParams(window.location.search);
            const paymentStatus = urlParams.get('payment');
            const beatId = urlParams.get('beatId');
            const transactionRef = urlParams.get('ref');
            
            if (paymentStatus === 'success' && beatId && transactionRef) {
                // This is a simplified callback simulation for static hosting
                // In production, use PayChangu webhooks with a serverless function
                setTimeout(() => {
                    console.log('Processing payment callback...');
                    if (verifyPayChanguPayment(transactionRef, parseInt(beatId))) {
                        console.log('Payment verified successfully');
                    }
                }, 1000);
            }
            
            renderBeats(beats);
            updateBeatCount(beats.length);
            
            genreButtons.forEach(button => {
                button.addEventListener('click', () => {
                    genreButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    filterBeatsByGenre(button.getAttribute('data-genre'));
                });
            });
            
            searchBar.addEventListener('input', filterBeatsBySearch);
            adminUploadForm.addEventListener('submit', handleAdminBeatUpload);
        }
        
        function renderBeats(beatsToRender) {
            beatsGrid.innerHTML = '';
            
            if (beatsToRender.length === 0) {
                beatsGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 3rem; color: var(--gray-text);"><h3>No beats found</h3><p>Try a different search or filter</p></div>';
                return;
            }
            
            beatsToRender.forEach(beat => {
                const isPurchased = purchasedBeats.includes(beat.id);
                const beatCard = document.createElement('div');
                beatCard.className = 'beat-card';
                beatCard.setAttribute('data-genre', beat.genre);
                beatCard.setAttribute('data-title', beat.title.toLowerCase());
                beatCard.setAttribute('data-id', beat.id);
                
                beatCard.innerHTML = `
                    <div class="beat-id">ID: ${beat.id}</div>
                    <div class="price-tag">${BEAT_PRICE}</div>
                    <div class="beat-header">
                        <h3 class="beat-title">${beat.title}</h3>
                        <span class="beat-genre">${beat.genre.toUpperCase()}</span>
                    </div>
                    <div class="beat-player">
                        <div class="audio-container">
                            <div class="preview-label">
                                <i class="fas fa-headphones"></i> 30-second preview only
                            </div>
                            <div class="custom-audio-player">
                                <div class="player-controls">
                                    <button class="play-pause-btn" data-id="${beat.id}">
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <div class="progress-container" data-id="${beat.id}">
                                        <div class="progress-bar" data-id="${beat.id}" style="width: 0%"></div>
                                    </div>
                                    <div class="volume-control">
                                        <i class="fas fa-volume-up volume-icon"></i>
                                        <div class="volume-slider" data-id="${beat.id}">
                                            <div class="volume-level" data-id="${beat.id}" style="width: 100%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="time-display">
                                    <span class="current-time" data-id="${beat.id}">0:00</span>
                                    <span class="duration" data-id="${beat.id}">0:30</span>
                                </div>
                            </div>
                            <div class="preview-progress"></div>
                            <p class="security-warning">No download option available. Purchase to unlock full beat.</p>
                        </div>
                        
                        ${!isPurchased ? `
                        <div class="locked-overlay">
                            <i class="fas fa-lock lock-icon"></i>
                            <p class="locked-text">Full beat locked. Purchase to unlock complete track.</p>
                            <button class="buy-btn" onclick="startPurchaseProcess(${beat.id})">
                                <i class="fas fa-shopping-cart"></i> Buy / Unlock - ${BEAT_PRICE}
                            </button>
                        </div>
                        ` : `
                        <div class="locked-overlay" style="border-color: #10b981;">
                            <i class="fas fa-unlock lock-icon" style="color: #10b981;"></i>
                            <p class="locked-text">Full beat unlocked! Download available.</p>
                            <button class="buy-btn unlocked" onclick="downloadBeat(${beat.id})">
                                <i class="fas fa-download"></i> Download Full Beat
                            </button>
                        </div>
                        `}
                    </div>
                `;
                
                beatsGrid.appendChild(beatCard);
                setupCustomAudioPlayer(beatCard, beat.id, isPurchased);
            });
            
            updateBeatCount(beatsToRender.length);
        }
        
        function handleAdminBeatUpload(e) {
            e.preventDefault();
            
            if (!isAdminLoggedIn) {
                return;
            }
            
            const titleInput = document.getElementById('adminBeatTitle');
            const genreInput = document.getElementById('adminBeatGenre');
            const fileInput = document.getElementById('adminBeatFile');
            
            if (!titleInput.value.trim()) {
                titleInput.focus();
                return;
            }
            
            if (!genreInput.value) {
                genreInput.focus();
                return;
            }
            
            if (!fileInput.files[0]) {
                fileInput.focus();
                return;
            }
            
            const audioFile = fileInput.files[0];
            
            if (!audioFile.type.startsWith('audio/')) {
                return;
            }
            
            const audioUrl = URL.createObjectURL(audioFile);
            
            const newBeat = {
                id: nextId++,
                title: titleInput.value.trim(),
                genre: genreInput.value,
                previewUrl: audioUrl,
                fileName: audioFile.name,
                fileSize: (audioFile.size / 1024 / 1024).toFixed(2) + " MB",
                uploaded: new Date().toISOString()
            };
            
            beats.unshift(newBeat);
            localStorage.setItem('jonalemBeats', JSON.stringify(beats));
            
            titleInput.value = '';
            genreInput.value = '';
            fileInput.value = '';
            
            const activeGenre = document.querySelector('.glow-btn.active').getAttribute('data-genre');
            filterBeatsByGenre(activeGenre);
            
            updateAdminStats();
        }
        
        function generateReferenceCode() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            let code = 'JNL';
            
            const timePart = Date.now().toString().slice(-4);
            code += timePart + '-';
            
            for (let i = 0; i < 4; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            return code;
        }
        
        function checkReferenceCode() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            const refCode = prompt("Enter Reference Code to check:", "");
            if (!refCode) return;
            
            const purchase = JSON.parse(localStorage.getItem(`ref_${refCode}`));
            if (purchase) {
                const beat = beats.find(b => b.id === purchase.beatId);
                const message = `
 REFERENCE CODE DETAILS:

Code: ${purchase.refCode}
Beat: ${purchase.beatTitle}
Beat ID: ${purchase.beatId}
Price: ${purchase.price}
Method: ${purchase.paymentMethod || 'N/A'}
Status: ${purchase.status}
Time: ${new Date(purchase.timestamp).toLocaleString()}
Via PayChangu: ${purchase.viaPayChangu ? 'Yes' : 'No'}
Mode: ${purchase.paychanguMode || 'N/A'}


Options:
1. Mark as Paid & Unlock
2. Cancel Purchase
                `;
                
                const choice = prompt(message + "\n\nEnter 1 or 2:", "");
                
                if (choice === '1') {
                    if (!purchasedBeats.includes(purchase.beatId)) {
                        purchasedBeats.push(purchase.beatId);
                        localStorage.setItem('purchasedBeats', JSON.stringify(purchasedBeats));
                        
                        purchase.status = 'completed';
                        purchase.completedAt = new Date().toISOString();
                        localStorage.setItem(`ref_${refCode}`, JSON.stringify(purchase));
                        
                        const historyIndex = purchaseHistory.findIndex(p => p.refCode === refCode);
                        if (historyIndex !== -1) {
                            purchaseHistory[historyIndex] = purchase;
                            localStorage.setItem('purchaseHistory', JSON.stringify(purchaseHistory));
                        }
                        
                        const activeGenre = document.querySelector('.glow-btn.active').getAttribute('data-genre');
                        filterBeatsByGenre(activeGenre);
                        
                        if (isAdminLoggedIn) {
                            updateAdminStats();
                        }
                    }
                }
            }
        }
        
        function showPurchaseHistory() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            if (purchaseHistory.length === 0) {
                return;
            }
            
            let historyText = " PURCHASE HISTORY\n\n\n";
            let totalRevenue = 0;
            
            purchaseHistory.forEach((purchase, index) => {
                const date = new Date(purchase.timestamp).toLocaleDateString();
                const time = new Date(purchase.timestamp).toLocaleTimeString();
                historyText += `${index + 1}. ${purchase.refCode}\n`;
                historyText += `   Beat: ${purchase.beatTitle}\n`;
                historyText += `   Price: ${purchase.price}\n`;
                
                let paymentMethod = purchase.paymentMethod || 'N/A';
                if (paymentMethod === 'AIRTELL_MONEY') paymentMethod = 'Airtel Money';
                if (paymentMethod === 'TNM_MPAMBA') paymentMethod = 'TNM MPAMBA';
                if (paymentMethod === 'NBS_BANK') paymentMethod = 'NBS Bank';
                
                historyText += `   Method: ${paymentMethod}\n`;
                historyText += `   Status: ${purchase.status}\n`;
                historyText += `   Via PayChangu: ${purchase.viaPayChangu ? 'Yes' : 'No'}\n`;
                historyText += `   Mode: ${purchase.paychanguMode || 'N/A'}\n`;
                historyText += `   Date: ${date} ${time}\n`;
                historyText += `   \n`;
                
                if (purchase.status === 'completed') {
                    totalRevenue += 6000;
                }
            });
            
            historyText += `\n TOTAL REVENUE: MWK ${totalRevenue.toLocaleString()}`;
            historyText += `\n TOTAL SALES: ${purchaseHistory.length} beats`;
            historyText += `\n Airtel: ${paychanguConfig.airtelAccountNumber || 'Not set'}`;
            historyText += `\n MPAMBA: ${paychanguConfig.mpambaAccountNumber || 'Not set'}`;
            historyText += `\n NBS: ${paychanguConfig.nbsAccountNumber || 'Not set'}`;
            historyText += `\n PayChangu Mode: ${paychanguConfig.isTestMode ? 'TEST' : 'LIVE'}`;
        }
        
        function setupCustomAudioPlayer(beatCard, beatId, isPurchased) {
            const audioElement = new Audio();
            const beat = beats.find(b => b.id === beatId);
            if (!beat) return;
            
            audioElement.src = beat.previewUrl;
            audioElement.preload = "metadata";
            
            const playPauseBtn = beatCard.querySelector('.play-pause-btn');
            const progressBar = beatCard.querySelector('.progress-bar');
            const progressContainer = beatCard.querySelector('.progress-container');
            const currentTimeEl = beatCard.querySelector('.current-time');
            const durationEl = beatCard.querySelector('.duration');
            const volumeSlider = beatCard.querySelector('.volume-slider');
            const volumeLevel = beatCard.querySelector('.volume-level');
            
            let isPlaying = false;
            let updateInterval;
            
            playPauseBtn.addEventListener('click', () => {
                if (!isPurchased && audioElement.currentTime >= PREVIEW_LIMIT) {
                    audioElement.currentTime = 0;
                    return;
                }
                
                if (isPlaying) {
                    pauseAudio();
                } else {
                    playAudio();
                }
            });
            
            function playAudio() {
                if (!isPurchased && audioElement.currentTime >= PREVIEW_LIMIT) {
                    audioElement.currentTime = 0;
                    return;
                }
                
                audioElement.play();
                isPlaying = true;
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                playPauseBtn.style.background = 'var(--primary-dark)';
                
                updateInterval = setInterval(updateProgress, 100);
            }
            
            function pauseAudio() {
                audioElement.pause();
                isPlaying = false;
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                playPauseBtn.style.background = 'var(--primary)';
                clearInterval(updateInterval);
            }
            
            function updateProgress() {
                const currentTime = audioElement.currentTime;
                const duration = isPurchased ? audioElement.duration : PREVIEW_LIMIT;
                
                const progressPercent = (currentTime / duration) * 100;
                progressBar.style.width = `${progressPercent}%`;
                
                currentTimeEl.textContent = formatTime(currentTime);
                durationEl.textContent = formatTime(duration);
                
                if (!isPurchased && currentTime >= PREVIEW_LIMIT) {
                    pauseAudio();
                    audioElement.currentTime = 0;
                    progressBar.style.width = '0%';
                    currentTimeEl.textContent = '0:00';
                }
            }
            
            progressContainer.addEventListener('click', (e) => {
                const rect = progressContainer.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const duration = isPurchased ? audioElement.duration : PREVIEW_LIMIT;
                
                let newTime = (clickX / width) * duration;
                
                if (!isPurchased && newTime > PREVIEW_LIMIT) {
                    newTime = PREVIEW_LIMIT;
                }
                
                audioElement.currentTime = newTime;
                updateProgress();
            });
            
            volumeSlider.addEventListener('click', (e) => {
                const rect = volumeSlider.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const volume = clickX / width;
                
                audioElement.volume = Math.max(0, Math.min(1, volume));
                volumeLevel.style.width = `${volume * 100}%`;
            });
            
            audioElement.volume = 1;
            
            audioElement.addEventListener('ended', () => {
                if (isPurchased) {
                    audioElement.currentTime = 0;
                    pauseAudio();
                    progressBar.style.width = '0%';
                    currentTimeEl.textContent = '0:00';
                }
            });
            
            audioElement.addEventListener('seeking', () => {
                if (!isPurchased && audioElement.currentTime > PREVIEW_LIMIT) {
                    audioElement.currentTime = PREVIEW_LIMIT;
                }
            });
            
            audioElement.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(isPurchased ? audioElement.duration : PREVIEW_LIMIT);
            });
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        function filterBeatsByGenre(genre) {
            if (genre === 'all') {
                renderBeats(beats);
                return;
            }
            const filteredBeats = beats.filter(beat => beat.genre === genre);
            renderBeats(filteredBeats);
        }
        
        function filterBeatsBySearch() {
            const query = searchBar.value.toLowerCase().trim();
            
            if (query === '') {
                const activeGenre = document.querySelector('.glow-btn.active').getAttribute('data-genre');
                filterBeatsByGenre(activeGenre);
                return;
            }
            
            const filteredBeats = beats.filter(beat => 
                beat.title.toLowerCase().includes(query) ||
                beat.genre.toLowerCase().includes(query)
            );
            
            renderBeats(filteredBeats);
        }
        
        function downloadBeat(beatId) {
            const beat = beats.find(b => b.id === beatId);
            if (!beat) return;
            
            const link = document.createElement('a');
            link.href = beat.previewUrl;
            link.download = `${beat.title.replace(/\s+/g, '_')}_JONALEM_BEATZ.mp3`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function updateBeatCount(count) {
            beatCount.textContent = count;
        }
        
        function exportBeatsData() {
            if (!isAdminLoggedIn) {
                return;
            }
            
            const dataStr = JSON.stringify(beats, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            
            const downloadUrl = URL.createObjectURL(dataBlob);
            const downloadLink = document.createElement('a');
            downloadLink.href = downloadUrl;
            downloadLink.download = `jonalem-beats-${new Date().toISOString().slice(0,10)}.json`;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        }
        
        function importBeatsData(event) {
            if (!isAdminLoggedIn) {
                event.target.value = '';
                return;
            }
            
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedBeats = JSON.parse(e.target.result);
                    
                    if (!Array.isArray(importedBeats)) {
                        throw new Error('Invalid data format');
                    }
                    
                    if (confirm(`Import ${importedBeats.length} beats? This will replace your current beats.`)) {
                        beats = importedBeats;
                        nextId = Math.max(...beats.map(b => b.id)) + 1;
                        localStorage.setItem('jonalemBeats', JSON.stringify(beats));
                        
                        const activeGenre = document.querySelector('.glow-btn.active').getAttribute('data-genre');
                        filterBeatsByGenre(activeGenre);
                        
                        if (isAdminLoggedIn) {
                            updateAdminStats();
                        }
                    }
                } catch (error) {
                }
            };
            reader.readAsText(file);
            
            event.target.value = '';
        }
        
        document.addEventListener('DOMContentLoaded', initPage);
        
        paymentModal.addEventListener('click', function(e) {
            if (e.target === paymentModal) {
                closePaymentModal();
            }
        });
        
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translate(-50%, -50%); }
                10%, 30%, 50%, 70%, 90% { transform: translate(calc(-50% - 5px), -50%); }
                20%, 40%, 60%, 80% { transform: translate(calc(-50% + 5px), -50%); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>